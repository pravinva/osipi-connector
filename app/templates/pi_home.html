<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PI Lakehouse Connector</title>
    <link rel="stylesheet" href="/static/css/pi_style.css">
    <link rel="icon" type="image/x-icon" href="/static/images/favicon.ico">
</head>
<body>
    <header class="pi-header" style="background: linear-gradient(90deg, #1B3139 0%, #00A8E1 100%);">
        <div class="container">
            <div class="logo-section">
                <svg width="40" height="40" viewBox="0 0 40 40" style="margin-right: 15px;">
                    <rect width="40" height="40" fill="#FF3621" rx="4"/>
                    <path d="M8 12h24M8 20h24M8 28h24" stroke="white" stroke-width="3" stroke-linecap="round"/>
                </svg>
                <h1 style="color: white;">OSI PI ‚Üí Databricks Connector</h1>
            </div>
            <div class="nav-links">
                <a href="/ingestion" class="nav-link" style="color: white;">Dashboard</a>
                <a href="/docs" class="nav-link" style="color: white;">API Docs</a>
                <a href="https://e2-demo-field-eng.cloud.databricks.com/explore/data/osipi" class="nav-link" target="_blank" style="color: white;">Catalog</a>
            </div>
        </div>
    </header>

    <main class="container home-container">
        <section class="hero-simple" style="text-align: center; padding: 40px 0;">
            <h2 style="color: #1B3139; font-size: 36px; margin-bottom: 10px;">OSI PI Lakeflow Connector</h2>
            <p class="subtitle" style="color: #00A8E1; font-size: 18px;">Ingesting 10,000 PI tags into Databricks Unity Catalog via Lakeflow</p>
        </section>

        <section class="home-cards">
            <a href="/ingestion" class="home-card primary-card">
                <div class="card-title">Ingestion Dashboard</div>
                <div class="card-desc">Monitor real-time data ingestion from PI Server to Unity Catalog</div>
                <div class="card-stats">
                    <span class="stat-item">2,000 rows ingested</span>
                    <span class="stat-item">20 tags active</span>
                    <span class="stat-item">95% quality</span>
                </div>
            </a>

            <a href="https://e2-demo-field-eng.cloud.databricks.com/explore/data/osipi/bronze/pi_timeseries" class="home-card" target="_blank">
                <div class="card-title">Bronze Table</div>
                <div class="card-desc">Raw time-series data from PI Server</div>
                <div class="card-meta">osipi.bronze.pi_timeseries</div>
            </a>

            <a href="https://e2-demo-field-eng.cloud.databricks.com/explore/data/osipi/gold/pi_metrics_hourly" class="home-card" target="_blank">
                <div class="card-title">Gold Table</div>
                <div class="card-desc">Aggregated hourly metrics</div>
                <div class="card-meta">osipi.gold.pi_metrics_hourly</div>
            </a>

            <a href="https://e2-demo-field-eng.cloud.databricks.com/#workspace/Users/pravin.varma@databricks.com/OSIPI_Lakeflow_Connector" class="home-card" target="_blank">
                <div class="card-title">Connector Notebook</div>
                <div class="card-desc">Lakeflow connector implementation</div>
                <div class="card-meta">OSIPI_Lakeflow_Connector.py</div>
            </a>

            <a href="/piwebapi" class="home-card secondary-card">
                <div class="card-title">PI Web API</div>
                <div class="card-desc">Mock PI Server with 10,000 tags</div>
                <div class="card-meta">25 plants √ó 50 units √ó 8 sensors</div>
            </a>

            <a href="/docs" class="home-card secondary-card">
                <div class="card-title">API Documentation</div>
                <div class="card-desc">Interactive Swagger UI for all endpoints</div>
                <div class="card-meta">13 endpoints available</div>
            </a>
        </section>

        <section class="hero-simple" style="margin-top: 60px; margin-bottom: 20px;">
            <h3 style="color: #1B3139; font-size: 28px; text-align: center;">Visual Interfaces</h3>
            <p style="color: #666; text-align: center; margin-top: 10px;">Interactive visualizations for PI data exploration</p>
        </section>

        <section class="home-cards">
            <a href="/api/visual/af-hierarchy" class="home-card" style="border-left: 4px solid #00A8E1;">
                <div class="card-title">üè≠ AF Hierarchy Tree</div>
                <div class="card-desc">Interactive Asset Framework hierarchy visualization</div>
                <div class="card-stats">
                    <span class="stat-item">6,275 elements</span>
                    <span class="stat-item">25 plants</span>
                    <span class="stat-item">1,250 units</span>
                </div>
            </a>

            <a href="/api/visual/events-alarms" class="home-card" style="border-left: 4px solid #FF3621;">
                <div class="card-title">üö® Events & Alarms</div>
                <div class="card-desc">Event frames, batch runs, alarms, and maintenance events</div>
                <div class="card-stats">
                    <span class="stat-item">50 events</span>
                    <span class="stat-item">4 types</span>
                    <span class="stat-item">30 days</span>
                </div>
            </a>

            <a href="/api/visual/websocket-monitor" class="home-card" style="border-left: 4px solid #2ECC71;">
                <div class="card-title">üîå WebSocket Monitor</div>
                <div class="card-desc">Real-time tag value streaming (1 Hz updates)</div>
                <div class="card-stats">
                    <span class="stat-item">Live streaming</span>
                    <span class="stat-item">10,000 tags</span>
                    <span class="stat-item">1 second rate</span>
                </div>
            </a>
        </section>
    </main>

    <footer class="pi-footer">
        <div class="container">
            <div class="footer-bottom">
                <p>PI Lakehouse Connector | Databricks Lakeflow Hackathon 2025</p>
            </div>
        </div>
    </footer>
</body>
</html>
