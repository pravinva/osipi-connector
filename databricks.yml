# Databricks Asset Bundle Configuration for OSI PI Lakeflow Connector
bundle:
  name: osipi-lakeflow-connector

# Development target
targets:
  dev:
    mode: development
    default: true
    workspace:
      host: https://e2-demo-field-eng.cloud.databricks.com

  # Production target
  prod:
    mode: production
    workspace:
      host: https://e2-demo-field-eng.cloud.databricks.com
      root_path: /Workspace/production/osipi-connector

# Resources will be dynamically generated from deployment/resources/*.yml
# Run notebooks/generate_pipelines_from_mock_api.py to create pipeline definitions

# Variables
variables:
  catalog:
    description: Unity Catalog name
    default: osipi

  schema:
    description: Schema name for PI data
    default: bronze

  pi_web_api_url:
    description: PI Web API endpoint URL (Mock API)
    default: https://osipi-webserver-1444828305810485.aws.databricksapps.com

  pi_auth_type:
    description: Authentication type (basic, kerberos, oauth)
    default: basic

# Include DLT pipelines and jobs from deployment resources
include:
  - "deployment/resources/*.yml"
